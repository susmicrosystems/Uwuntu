.type arch_save_fpu, %function
.global arch_save_fpu
arch_save_fpu:
	fsd f0 , 16 * 0 (a0)
	fsd f1 , 16 * 1 (a0)
	fsd f2 , 16 * 2 (a0)
	fsd f3 , 16 * 3 (a0)
	fsd f4 , 16 * 4 (a0)
	fsd f5 , 16 * 5 (a0)
	fsd f6 , 16 * 6 (a0)
	fsd f7 , 16 * 7 (a0)
	fsd f8 , 16 * 8 (a0)
	fsd f9 , 16 * 9 (a0)
	fsd f10, 16 * 10(a0)
	fsd f11, 16 * 11(a0)
	fsd f12, 16 * 12(a0)
	fsd f13, 16 * 13(a0)
	fsd f14, 16 * 14(a0)
	fsd f15, 16 * 15(a0)
	fsd f16, 16 * 16(a0)
	fsd f17, 16 * 17(a0)
	fsd f18, 16 * 18(a0)
	fsd f19, 16 * 19(a0)
	fsd f20, 16 * 20(a0)
	fsd f21, 16 * 21(a0)
	fsd f22, 16 * 22(a0)
	fsd f23, 16 * 23(a0)
	fsd f24, 16 * 24(a0)
	fsd f25, 16 * 25(a0)
	fsd f26, 16 * 26(a0)
	fsd f27, 16 * 27(a0)
	fsd f28, 16 * 28(a0)
	fsd f29, 16 * 29(a0)
	fsd f30, 16 * 30(a0)
	fsd f31, 16 * 31(a0)
	csrr t0, fcsr
	sw t0, 16 * 32(a0)
	ret

.type arch_load_fpu, %function
.global arch_load_fpu
arch_load_fpu:
	fld f0 , 16 * 0 (a0)
	fld f1 , 16 * 1 (a0)
	fld f2 , 16 * 2 (a0)
	fld f3 , 16 * 3 (a0)
	fld f4 , 16 * 4 (a0)
	fld f5 , 16 * 5 (a0)
	fld f6 , 16 * 6 (a0)
	fld f7 , 16 * 7 (a0)
	fld f8 , 16 * 8 (a0)
	fld f9 , 16 * 9 (a0)
	fld f10, 16 * 10(a0)
	fld f11, 16 * 11(a0)
	fld f12, 16 * 12(a0)
	fld f13, 16 * 13(a0)
	fld f14, 16 * 14(a0)
	fld f15, 16 * 15(a0)
	fld f16, 16 * 16(a0)
	fld f17, 16 * 17(a0)
	fld f18, 16 * 18(a0)
	fld f19, 16 * 19(a0)
	fld f20, 16 * 20(a0)
	fld f21, 16 * 21(a0)
	fld f22, 16 * 22(a0)
	fld f23, 16 * 23(a0)
	fld f24, 16 * 24(a0)
	fld f25, 16 * 25(a0)
	fld f26, 16 * 26(a0)
	fld f27, 16 * 27(a0)
	fld f28, 16 * 28(a0)
	fld f29, 16 * 29(a0)
	fld f30, 16 * 30(a0)
	fld f31, 16 * 31(a0)
	lw t0, 16 * 32(a0)
	csrw fcsr, t0
	ret
